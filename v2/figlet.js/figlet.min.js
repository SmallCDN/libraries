"use strict";var figlet=figlet||function(){function g(e,f){var h,i,j,k,g={},l=[[16384,"vLayout",c],[8192,"vLayout",b],[4096,"vRule5",!0],[2048,"vRule4",!0],[1024,"vRule3",!0],[512,"vRule2",!0],[256,"vRule1",!0],[128,"hLayout",c],[64,"hLayout",b],[32,"hRule6",!0],[16,"hRule5",!0],[8,"hRule4",!0],[4,"hRule3",!0],[2,"hRule2",!0],[1,"hRule1",!0]];for(h=null!==f?f:e,i=0,j=l.length;i<j;)k=l[i],h>=k[0]?(h-=k[0],g[k[1]]="undefined"==typeof g[k[1]]?k[2]:g[k[1]]):"vLayout"!==k[1]&&"hLayout"!==k[1]&&(g[k[1]]=!1),i++;return"undefined"==typeof g.hLayout?0===e?g.hLayout=b:e===-1?g.hLayout=a:g.hRule1||g.hRule2||g.hRule3||g.hRule4||g.hRule5||g.hRule6?g.hLayout=d:g.hLayout=c:g.hLayout===c&&(g.hRule1||g.hRule2||g.hRule3||g.hRule4||g.hRule5||g.hRule6)&&(g.hLayout=d),"undefined"==typeof g.vLayout?g.vRule1||g.vRule2||g.vRule3||g.vRule4||g.vRule5?g.vLayout=d:g.vLayout=a:g.vLayout===c&&(g.vRule1||g.vRule2||g.vRule3||g.vRule4||g.vRule5)&&(g.vLayout=d),g}function h(a,b,c){return a===b&&a!==c&&a}function i(a,b){var c="|/\\[]{}()<>";if("_"===a){if(c.indexOf(b)!==-1)return b}else if("_"===b&&c.indexOf(a)!==-1)return a;return!1}function j(a,b){var c="| /\\ [] {} () <>",d=c.indexOf(a),e=c.indexOf(b);return d!==-1&&e!==-1&&d!==e&&1!==Math.abs(d-e)&&c.substr(Math.max(d,e),1)}function k(a,b){var c="[] {} ()",d=c.indexOf(a),e=c.indexOf(b);return d!==-1&&e!==-1&&Math.abs(d-e)<=1&&"|"}function l(a,b){var c="/\\ \\/ ><",d={0:"|",3:"Y",6:"X"},e=c.indexOf(a),f=c.indexOf(b);return e!==-1&&f!==-1&&f-e===1&&d[e]}function m(a,b,c){return a===c&&b===c&&c}function n(a,b){return a===b&&a}function o(a,b){var c="|/\\[]{}()<>";if("_"===a){if(c.indexOf(b)!==-1)return b}else if("_"===b&&c.indexOf(a)!==-1)return a;return!1}function p(a,b){var c="| /\\ [] {} () <>",d=c.indexOf(a),e=c.indexOf(b);return d!==-1&&e!==-1&&d!==e&&1!==Math.abs(d-e)&&c.substr(Math.max(d,e),1)}function q(a,b){return("-"===a&&"_"===b||"_"===a&&"-"===b)&&"="}function r(a,b){return"|"===a&&"|"===b&&"|"}function s(a,b,c){return" "===b||""===b?a:b===c&&" "!==a?a:b}function t(d,e,f){if(f.fittingRules.vLayout===a)return"invalid";var g,i,j,l,h=Math.min(d.length,e.length),k=!1;if(0===h)return"invalid";for(g=0;g<h;g++)if(i=d.substr(g,1),j=e.substr(g,1)," "!==i&&" "!==j){if(f.fittingRules.vLayout===b)return"invalid";if(f.fittingRules.vLayout===c)return"end";if(r(i,j)){k=k||!1;continue}if(l=!1,l=f.fittingRules.vRule1?n(i,j):l,l=!l&&f.fittingRules.vRule2?o(i,j):l,l=!l&&f.fittingRules.vRule3?p(i,j):l,l=!l&&f.fittingRules.vRule4?q(i,j):l,k=!0,!l)return"invalid"}return k?"end":"valid"}function u(a,b,c){for(var g,h,i,k,l,m,d=a.length,e=a.length,j=(b.length,1);j<=d;){for(g=a.slice(Math.max(0,e-j),e),h=b.slice(0,Math.min(d,j)),i=h.length,m="",k=0;k<i;k++)if(l=t(g[k],h[k],c),"end"===l)m=l;else{if("invalid"===l){m=l;break}""===m&&(m="valid")}if("invalid"===m){j--;break}if("end"===m)break;"valid"===m&&j++}return Math.min(d,j)}function v(a,d,e){var f,h,i,k,g=Math.min(a.length,d.length),j="";for(f=0;f<g;f++)h=a.substr(f,1),i=d.substr(f,1)," "!==h&&" "!==i?e.fittingRules.vLayout===b?j+=s(h,i):e.fittingRules.vLayout===c?j+=s(h,i):(k=e.fittingRules.vRule5?r(h,i):k,k=!k&&e.fittingRules.vRule1?n(h,i):k,k=!k&&e.fittingRules.vRule2?o(h,i):k,k=!k&&e.fittingRules.vRule3?p(h,i):k,k=!k&&e.fittingRules.vRule4?q(h,i):k,j+=k):j+=s(h,i);return j}function w(a,b,c,d){var j,k,l,n,e=a.length,f=b.length,g=a.slice(0,Math.max(0,e-c)),h=a.slice(Math.max(0,e-c),e),i=b.slice(0,Math.min(c,f)),m=[],o=[];for(k=h.length,j=0;j<k;j++)l=j>=f?h[j]:v(h[j],i[j],d),m.push(l);return n=b.slice(Math.min(c,f),f),o.concat(g,m,n)}function x(a,b){var c,d=a.length,e="";for(c=0;c<b;c++)e+=" ";for(c=0;c<d;c++)a[c]+=e}function y(a,b,c){var f,d=a[0].length,e=b[0].length;return d>e?x(b,d-e):e>d&&x(a,e-d),f=u(a,b,c),w(a,b,f,c)}function z(d,e,f){if(f.fittingRules.hLayout===a)return 0;var g,t,u,v,w,n=d.length,o=e.length,p=n,q=1,r=!1,s=!1;if(0===n)return 0;a:for(;q<=p;){for(t=d.substr(n-q,q),u=e.substr(0,Math.min(q,o)),g=0;g<Math.min(q,o);g++)if(v=t.substr(g,1),w=u.substr(g,1)," "!==v&&" "!==w){if(f.fittingRules.hLayout===b){q-=1;break a}if(f.fittingRules.hLayout===c){v!==f.hardBlank&&w!==f.hardBlank||(q-=1);break a}if(r=!0,s=!1,s=f.fittingRules.hRule1?h(v,w,f.hardBlank):s,s=!s&&f.fittingRules.hRule2?i(v,w,f.hardBlank):s,s=!s&&f.fittingRules.hRule3?j(v,w,f.hardBlank):s,s=!s&&f.fittingRules.hRule4?k(v,w,f.hardBlank):s,s=!s&&f.fittingRules.hRule5?l(v,w,f.hardBlank):s,s=!s&&f.fittingRules.hRule6?m(v,w,f.hardBlank):s,!s){q-=1;break a}}if(r)break;q++}return Math.min(p,q)}function A(a,d,e,f){var g,n,q,r,t,u,v,w,x,y,p=[];for(g=0;g<f.height;g++){x=a[g],y=d[g],v=x.length,w=y.length,q=v-e,r=x.substr(0,Math.max(0,q)),t="";var z=x.substr(Math.max(0,v-e),e),A=y.substr(0,Math.min(e,w));for(n=0;n<e;n++){var B=n<v?z.substr(n,1):" ",C=n<w?A.substr(n,1):" ";if(" "!==B&&" "!==C)if(f.fittingRules.hLayout===b)t+=s(B,C,f.hardBlank);else if(f.fittingRules.hLayout===c)t+=s(B,C,f.hardBlank);else{var D="";D=!D&&f.fittingRules.hRule1?h(B,C,f.hardBlank):D,D=!D&&f.fittingRules.hRule2?i(B,C,f.hardBlank):D,D=!D&&f.fittingRules.hRule3?j(B,C,f.hardBlank):D,D=!D&&f.fittingRules.hRule4?k(B,C,f.hardBlank):D,D=!D&&f.fittingRules.hRule5?l(B,C,f.hardBlank):D,D=!D&&f.fittingRules.hRule6?m(B,C,f.hardBlank):D,D=D||s(B,C,f.hardBlank),t+=D}else t+=s(B,C,f.hardBlank)}u=e>=w?"":y.substr(e,Math.max(0,w-e)),p[g]=r+t+u}return p}function B(b,c,d){var e,f,h,g=0,i=[],j=d.height;for(h=0;h<j;h++)i[h]="";for(1===d.printDirection&&(b=b.split("").reverse().join("")),j=b.length,e=0;e<j;e++)if(f=c[b.substr(e,1).charCodeAt(0)]){if(d.fittingRules.hLayout!==a){for(g=1e4,h=0;h<d.height;h++)g=Math.min(g,z(i[h],f[h],d));g=1e4===g?0:g}i=A(i,f,g,d)}if(d.showHardBlanks!==!0)for(j=i.length,h=0;h<j;h++)i[h]=i[h].replace(new RegExp("\\"+d.hardBlank,"g")," ");return i}function G(a,b){var d,e,c=JSON.parse(JSON.stringify(a));if("undefined"!=typeof b.horizontalLayout){d=C(b.horizontalLayout,a);for(e in d)c.fittingRules[e]=d[e]}if("undefined"!=typeof b.verticalLayout){d=D(b.verticalLayout,a);for(e in d)c.fittingRules[e]=d[e]}return c.printDirection="undefined"!=typeof b.printDirection?b.printDirection:a.printDirection,c.showHardBlanks=b.showHardBlanks||!1,c}var a=0,b=1,c=2,d=3,e={},f={font:"Standard",fontPath:"./fonts"},C=function(e,f){var j,g=["hLayout","hRule1","hRule2","hRule3","hRule4","hRule5","hRule6"],h={};if("default"===e)for(j=0;j<g.length;j++)h[g[j]]=f.fittingRules[g[j]];else if("full"===e)h={hLayout:a,hRule1:!1,hRule2:!1,hRule3:!1,hRule4:!1,hRule5:!1,hRule6:!1};else if("fitted"===e)h={hLayout:b,hRule1:!1,hRule2:!1,hRule3:!1,hRule4:!1,hRule5:!1,hRule6:!1};else if("controlled smushing"===e)h={hLayout:d,hRule1:!0,hRule2:!0,hRule3:!0,hRule4:!0,hRule5:!0,hRule6:!0};else{if("universal smushing"!==e)return;h={hLayout:c,hRule1:!1,hRule2:!1,hRule3:!1,hRule4:!1,hRule5:!1,hRule6:!1}}return h},D=function(e,f){var j,g=["vLayout","vRule1","vRule2","vRule3","vRule4","vRule5"],h={};if("default"===e)for(j=0;j<g.length;j++)h[g[j]]=f.fittingRules[g[j]];else if("full"===e)h={vLayout:a,vRule1:!1,vRule2:!1,vRule3:!1,vRule4:!1,vRule5:!1};else if("fitted"===e)h={vLayout:b,vRule1:!1,vRule2:!1,vRule3:!1,vRule4:!1,vRule5:!1};else if("controlled smushing"===e)h={vLayout:d,vRule1:!0,vRule2:!0,vRule3:!0,vRule4:!0,vRule5:!0};else{if("universal smushing"!==e)return;h={vLayout:c,vRule1:!1,vRule2:!1,vRule3:!1,vRule4:!1,vRule5:!1}}return h},E=function(a,b,c){c=c.replace(/\r\n/g,"\n").replace(/\r/g,"\n");var g,h,i,d=c.split("\n"),f=[];for(h=d.length,g=0;g<h;g++)f.push(B(d[g],e[a],b));for(h=f.length,i=f[0],g=1;g<h;g++)i=y(i,f[g],b);return i.join("\n")},F=function(a,b,c){F.text(a,b,c)};return F.text=function(a,b,c){var d="";a+="","function"==typeof arguments[1]&&(c=b,b={},b.font=f.font),"string"==typeof b?(d=b,b={}):(b=b||{},d=b.font||f.font),F.loadFont(d,function(e,f){return e?c(e):void c(null,E(d,G(f,b),a))})},F.textSync=function(a,b){var c="";a+="","string"==typeof b?(c=b,b={}):(b=b||{},c=b.font||f.font);var d=G(F.loadFontSync(c),b);return E(c,d,a)},F.metadata=function(a,b){a+="",F.loadFont(a,function(c,d){return c?void b(c):void b(null,d,e[a].comment)})},F.defaults=function(a){if("object"==typeof a&&null!==a)for(var b in a)a.hasOwnProperty(b)&&(f[b]=a[b]);return JSON.parse(JSON.stringify(f))},F.parseFont=function(a,b){b=b.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e[a]={};var c=b.split("\n"),d=c.splice(0,1)[0].split(" "),f=e[a],h={};if(h.hardBlank=d[0].substr(5,1),h.height=parseInt(d[1],10),h.baseline=parseInt(d[2],10),h.maxLength=parseInt(d[3],10),h.oldLayout=parseInt(d[4],10),h.numCommentLines=parseInt(d[5],10),h.printDirection=d.length>=6?parseInt(d[6],10):0,h.fullLayout=d.length>=7?parseInt(d[7],10):null,h.codeTagCount=d.length>=8?parseInt(d[8],10):null,h.fittingRules=g(h.oldLayout,h.fullLayout),f.options=h,1!==h.hardBlank.length||isNaN(h.height)||isNaN(h.baseline)||isNaN(h.maxLength)||isNaN(h.oldLayout)||isNaN(h.numCommentLines))throw new Error("FIGlet header contains invalid values.");var j,i=[];for(j=32;j<=126;j++)i.push(j);if(i=i.concat(196,214,220,228,246,252,223),c.length<h.numCommentLines+h.height*i.length)throw new Error("FIGlet file is missing data.");var k,l,m=!1;for(f.comment=c.splice(0,h.numCommentLines).join("\n"),f.numChars=0;c.length>0&&f.numChars<i.length;){for(k=i[f.numChars],f[k]=c.splice(0,h.height),j=0;j<h.height;j++)"undefined"==typeof f[k][j]?f[k][j]="":(l=new RegExp("\\"+f[k][j].substr(f[k][j].length-1,1)+"+$"),f[k][j]=f[k][j].replace(l,""));f.numChars++}for(;c.length>0;){if(k=c.splice(0,1)[0].split(" ")[0],/^0[xX][0-9a-fA-F]+$/.test(k))k=parseInt(k,16);else if(/^0[0-7]+$/.test(k))k=parseInt(k,8);else if(/^[0-9]+$/.test(k))k=parseInt(k,10);else{if(!/^-0[xX][0-9a-fA-F]+$/.test(k)){if(""===k)break;console.log("Invalid data:"+k),m=!0;break}k=parseInt(k,16)}for(f[k]=c.splice(0,h.height),j=0;j<h.height;j++)"undefined"==typeof f[k][j]?f[k][j]="":(l=new RegExp("\\"+f[k][j].substr(f[k][j].length-1,1)+"+$"),f[k][j]=f[k][j].replace(l,""));f.numChars++}if(m===!0)throw new Error("Error parsing data.");return h},F.loadFont=function(a,b){if(e[a])return void b(null,e[a].options);if("function"!=typeof fetch)throw console.error("figlet.js requires the fetch API or a fetch polyfill such as https://cdnjs.com/libraries/fetch"),new Error("fetch is required for figlet.js to work.");fetch(f.fontPath+"/"+a+".flf").then(function(a){if(a.ok)return a.text();throw console.log("Unexpected response",a),new Error("Network response was not ok.")}).then(function(c){b(null,F.parseFont(a,c))}).catch(b)},F.loadFontSync=function(a){if(e[a])return e[a].options;throw new Error("synchronous font loading is not implemented for the browser")},F.preloadFonts=function(a,b){if("undefined"==typeof jQuery)throw new Error("jQuery is required for ajax method to work.");jQuery.when.apply(this,a.map(function(a){return jQuery.get(f.fontPath+"/"+a+".flf")})).then(function(){var c=a.length>1?arguments:[arguments];for(var d in a)F.parseFont(a[d],c[d][0]);b&&b()})},F}();"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=figlet);